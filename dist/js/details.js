!function(){$("#my_img").mousemove(function(t){var i=$(this).children().eq(1).width(),a=$(this).children().eq(1).height(),e=t.clientX-$(this).offset().left+$(window).scrollLeft()-i/2,n=t.clientY-$(this).offset().top+$(window).scrollTop()-a/2;e=Math.max(0,Math.min(e,$(this).width()-i)),n=Math.max(0,Math.min(n,$(this).height()-a)),$(this).children().eq(1).css({left:e,top:n}),$(this).next().find("img").css({marginLeft:2*-e,marginTop:2*-n})}).hover(function(){$(this).children().last().show();var t=$(this).children().first().attr("src");$("#img_tool_Div").show().find("img").attr("src",t)},function(){$("#img_tool_Div").hide(),$(this).children().last().hide()}),$("#my_pic_ul_tab").click(function(t){if($(t.target).is("img")){var i=$(t.target).attr("tool");$("#my_img").find("img").attr("src",i)}if($(t.target).is("li")){var i=$(t.target).find("img").attr("tool");$("#my_img").find("img").attr("src",i)}}),$(".hove_title").click(function(t){if("hove_right fr"==$(t.target).attr("class")){var i=$("#hove_content>ul[hid=true]");i.next().is("ul")&&i.hide().attr("hid","").next().attr("hid","true").show()}if("hove_left fr"==$(t.target).attr("class")){var i=$("#hove_content>ul[hid=true]");i.prev().is("ul")&&i.hide().attr("hid","").prev().attr("hid","true").show()}}),$(".main_tab>ul").click(function(t){$(t.target).is("li")&&($(t.target).addClass("cur").siblings().removeClass("cur"),$(t.target).index()?$("[names=shouh]").show().prev().hide():$("[names=shouh]").hide().prev().show())}),$(".main_footer_right>i").hover(function(){$(this).find("a").show()},function(){$(this).find("a").hide()}),$(".add_count").click(function(t){if("jian"===$(t.target).attr("class")){var i=parseInt($(t.target).next().val())+1;$(t.target).next().val(i)}if("jia"===$(t.target).attr("class")){var i=parseInt($(t.target).prev().val())-1;i=Math.max(i,1),$(t.target).prev().val(i)}}),$(".add_count>input").keyup(function(){var t=$(this).val(),i=/^[0-9]{1,}$/;i.test(t)||$(this).val(1)});var t=function(){var t=[],i=$("#my_col_to1");t[0]=$("#chp_pid").html().split(":")[1],t[1]=$(".details_sitemap").children().last().html(),t[2]=$("#my_pic_ul_tab:eq(0)").find("img").attr("src"),t[3]=$("#attr_y_price").html(),t[4]=$("#attr_name").attr("title"),t[5]=location.href,t[6]=i.html()+" "+i.next().children().filter(".cur").find("b").html()+"</br>"+$("#my_col_to2").html()+" "+$("#my_col_to2").next().children().filter(".cur").html(),t[7]=$("#my_shop_count").val();var a=opeateCookie.objChangestr(t);opeateCookie.createPid(a),confirm("添加成功,是否跳转至购物车")&&(location.href="goshang.html")};$("#add_gch").click(t),$("#add_gch1").click(t),$(window).scroll(function(t){var i=$(this).scrollTop(),a=$("#main_tab").parent().offset().top,e=$("#main_tab").parent().offset().left;i>a?$("#main_tab").css("position","fixed").css("left",e):$("#main_tab").css("position","static")});var i=function(t){$.each(t,function(i,a){var e='<a href="'+a.get+'">'+a.names+"</a><i> > </i>";i==t.length-1&&(e='<a href="'+a.get+'">'+a.names+"</a>"),$(e).appendTo(".details_sitemap")})},a=function(t){var i='<img src="'+t.img+'">';$(".shop_PPai .go_PPai").attr("href",t.get),$(i).appendTo(".shop_PPai .PPai_img")},e=function(t){$("#attr_name").prepend(""+t.title).attr("title",t.title),$("#attr_y_price").html(t.price),$("#del_price").html(t.prices),$("#my_origin").html(t.origin),$("#my_sum").val(t.count),$("#chp_pid").html("商品ID:"+t.pid),t.timeStop&&$("#shop_time").show(),"0"===t.count&&$(".chp_sale_out").show(),t.fwshang&&$("#my_fwshang").show().find("b").html(t.fwshang),t.hot&&$("#attr_name").find("span").html(t.hot),t.hint&&$("#attr_name").next().html(t.hint)},n=function(t){$("#my_col_to1").html(t[0]),$.each(t,function(t,i){if(t){var a='<em class="choice_shop">';if(1==t)var a='<em class="choice_shop cur">';a+=i,a+="</em>",$("#my_col_to1").next().append(a)}}),$("#my_col_to1").next().find("em").click(function(){var t=$(this).index();$(this).addClass("cur").siblings().removeClass("cur");var i=$("#my_pic_ul").children().eq(t);$("#my_pic_ul_tab").html(""),$.each(i.children(),function(t,i){var a='<li><img src="'+$(i).attr("small")+'" tool="'+$(i).attr("tool")+'"><span></span></li>';$(a).appendTo("#my_pic_ul_tab")}),$("#my_img").find("img").attr("src",i.children().eq(0).attr("tool"))})},r=function(t){$("#my_col_to2").html(t[0]),$.each(t,function(t,i){if(t){var a='<em class="choice_shop">';1==t&&(a='<em class="choice_shop cur">'),a+=i,a+="</em>",$("#my_col_to2").next().html(a)}})},c=function(t){$.each(t,function(t,i){for(var a="<li>",e=0,n=i.length;e<n;e++)a+='<input type="hidden" small="'+i[e][0]+'" tool="'+i[e][1]+'">';a+="</li>",$(a).appendTo("#my_pic_ul")}),$.each(t[0],function(t,i){var a='<li><img src="'+i[0]+'" tool="'+i[1]+'"><span></span></li>';$(a).appendTo("#my_pic_ul_tab")}),$("#my_img").find("img").attr("src",t[0][0][1])},o=function(t){for(var i=parseInt((t.length-1)/6)+1,a=0;a<i;a++){var e='<ul style="display:none">';0==a&&(e='<ul style="display:block" hid="true">');for(var n=6*a;n<6*(a+1)&&(e+='<li class="fl"><a href="'+t[n].geturl+'" class="hove_a1"><img src="'+t[n].pic+'"></a><a href="'+t[n].geturl+'" class="hove_a2">'+t[n].title+'</a><p class="price"><b>￥'+t[n].price+"</b></p></li>",n!=t.length-1);n++);e+="</ul>",$(e).appendTo("#hove_content")}},l=function(t){var i="<ul>";$.each(t,function(t,a){i+='<li><a href="'+a.geturl+'" class="tuijian_a1"><img src="'+a.pic+'" ></a><a href="'+a.geturl+'" class="tuijian_a2">'+a.title+'</a><p class="price"><b>￥'+a.price+"</b></p></li>"}),i+="</ul>",$(i).appendTo("#my_tuijian")},s=function(t){var i="<ul>";$.each(t,function(t,a){i+='<li><a href="'+a.geturl+'" class="tuijian_a1"><img src="'+a.pic+'" ></a><a href="'+a.geturl+'" class="tuijian_a2">'+a.title+'</a><p class="price"><b>￥'+a.price+"</b></p></li>"}),i+="</ul>",$(i).appendTo("#my_gzhu")},h=function(t){var i="";$.each(t,function(t,a){i+='<img src="'+a+'">'}),$(i).appendTo("[names=pic]")},m=function(t){var i="";$.each(t,function(t,a){i+='<img src="'+a+'" >'}),$(i).appendTo("[names=shouh]")};$.ajax({method:"get",typedata:"json",url:"../sever/details-top.json",success:function(t){i(t[0]),a(t[1]),e(t[2]),n(t[3]),r(t[4]),c(t[5]),o(t[6]),l(t[7]),s(t[8]),h(t[9]),m(t[10])},error:function(t){console.log(t)}})}();